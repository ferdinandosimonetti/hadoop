{
  "configurations": [
    {
      "core-site": {
        "properties": {
          "fs.defaultFS": "hdfs://miscluster",
          "ha.zookeeper.quorum": "%HOSTGROUP::data01%:2181,%HOSTGROUP::data02%:2181,%HOSTGROUP::data03%:2181"
        }
      }
    },
    {
      "hadoop-env": {
        "properties": {
          "hdfs_log_dir_prefix": "/hadoop/log"
        }
      }
    },
    {
      "yarn-env": {
        "properties": {
          "yarn_log_dir_prefix": "/hadoop/yarn/log/hadoop-yarn"
        }
      }
    },
    {
      "hdfs-site": {
        "properties": {
          "dfs.namenode.http-address": "%HOSTGROUP::master01%:50070",
          "dfs.namenode.https-address": "%HOSTGROUP::master01%:50470",
          "dfs.namenode.rpc-address": "%HOSTGROUP::master01%:8020",
          "dfs.namenode.secondary.http-address": "%HOSTGROUP::master02%:50070",
          "dfs.namenode.secondary.https-address": "%HOSTGROUP::master02%:50470",
          "dfs.namenode.secondary.rpc-address": "%HOSTGROUP::master02%:8020",         
          "dfs.datanode.data.dir": "/hadoop/hdfs/data/00",
          "dfs.journalnode.edits.dir": "/hadoop/hdfs/journal",
          "dfs.namenode.checkpoint.dir": "/hadoop/hdfs/namesecondary",
          "dfs.namenode.name.dir": "/hadoop/hdfs/namenode/00,/hadoop/hdfs/namenode/01"
        }
      }
    },
    {
      "yarn-site": {
        "properties": {
          "yarn.nodemanager.local-dirs": "/hadoop/yarn/local",
          "yarn.nodemanager.log-dirs": "/hadoop/yarn/log",
          "yarn.timeline-service.leveldb-state-store.path": "/hadoop/yarn/timeline",
          "yarn.timeline-service.leveldb-timeline-store.path": "/hadoop/yarn/timeline"
        }
      }
    },
    {
      "ams-env": {
        "properties": {
          "metrics_collector_log_dir": "/hadoop/metrics/log/ambari-metrics-collector",
          "metrics_collector_pid_dir": "/hadoop/metrics/run/ambari-metrics-collector",
          "metrics_monitor_log_dir": "/hadoop/metrics/log/ambari-metrics-monitor",
          "metrics_monitor_pid_dir": "/hadoop/metrics/run/ambari-metrics-monitor"
        }
      }
    },
    {
      "ams-grafana-env": {
        "properties": {
          "metrics_grafana_data_dir": "/hadoop/metrics/lib/ambari-metrics-grafana",
          "metrics_grafana_log_dir": "/hadoop/metrics/log/ambari-metrics-grafana",
          "metrics_grafana_pid_dir": "/hadoop/metrics/run/ambari-metrics-grafana"
        }
      }
    },
    {
      "ams-hbase-env": {
        "properties": {
          "hbase_log_dir": "/hadoop/metrics/log/ambari-metrics-collector",
          "hbase_pid_dir": "/hadoop/metrics/run/ambari-metrics-collector/"
        }
      }
    },
    {
      "infra-solr-client-log4j": {
        "properties": {
          "infra_solr_client_log_dir": "/hadoop/ambari_infra_solr/var/log/ambari-infra-solr-client"
        }
      }
    },
    {
      "hive-env": {
        "properties": {
          "hive_database_type": "postgres"
        }
      }
    },
    {
      "hive-site": {
        "properties": {
          "javax.jdo.option.ConnectionDriverName": "org.postgresql.Driver"
        }
      }
    },
    {
      "infra-solr-env": {
        "properties": {
          "infra_solr_datadir": "/hadoop/ambari_infra_solr/data",
          "infra_solr_log_dir": "/hadoop/ambari_infra_solr/var/log/ambari-infra-solr",
          "infra_solr_pid_dir": "/hadoop/ambari_infra_solr/var/run/ambari-infra-solr"
        }
      }
    },
    {
      "mapred-site": {
        "properties": {
          "mapreduce.jobhistory.recovery.store.leveldb.path": "/hadoop/mapreduce/jhs"
        }
      }
    },
    {
      "ranger-admin-site": {
        "properties": {
          "ranger.jpa.jdbc.driver": "org.postgresql.Driver"
        }
      }
    },    
    {
      "ranger-hive-audit": {
        "properties": {
          "xasecure.audit.destination.hdfs.batch.filespool.dir": "/hadoop/hive/audit/hdfs/spool",
          "xasecure.audit.destination.solr.batch.filespool.dir": "/hadoop/hive/audit/solr/spool"
        }
      }
    },
    {
      "ranger-yarn-audit": {
        "properties": {
          "xasecure.audit.destination.hdfs.batch.filespool.dir": "/hadoop/yarn/audit/hdfs/spool",
          "xasecure.audit.destination.solr.batch.filespool.dir": "/hadoop/yarn/audit/solr/spool"
        }
      }
    },
    {
      "zoo.cfg": {
        "properties": {
          "dataDir": "/hadoop/zookeeper"
        }
      }
    }
  ],
  "host_groups": [
    {
      "name": "ambari",
      "components": [
        {
          "name": "METRICS_MONITOR"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "master01",
      "components": [
        {
          "name": "HCAT"
        },
        {
          "name": "HDFS_CLIENT"
        },
        {
          "name": "HIVE_CLIENT"
        },
        {
          "name": "HIVE_SERVER"
        },
        {
          "name": "HIVE_SERVER_INTERACTIVE"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "MAPREDUCE2_CLIENT"
        },
        {
          "name": "METRICS_COLLECTOR"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NAMENODE"
        },
        {
          "name": "PIG"
        },
        {
          "name": "RANGER_ADMIN"
        },
        {
          "name": "RANGER_USERSYNC"
        },
        {
          "name": "RESOURCEMANAGER"
        },
        {
          "name": "SLIDER"
        },
        {
          "name": "TEZ_CLIENT"
        },
        {
          "name": "WEBHCAT_SERVER"
        },
        {
          "name": "YARN_CLIENT"
        },
        {
          "name": "ZOOKEEPER_CLIENT"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "master02",
      "components": [
        {
          "name": "APP_TIMELINE_SERVER"
        },
        {
          "name": "HCAT"
        },
        {
          "name": "HDFS_CLIENT"
        },
        {
          "name": "HISTORYSERVER"
        },
        {
          "name": "HIVE_CLIENT"
        },
        {
          "name": "HIVE_METASTORE"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "MAPREDUCE2_CLIENT"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "SECONDARY_NAMENODE"
        },
        {
          "name": "PIG"
        },
        {
          "name": "RANGER_TAGSYNC"
        },
        {
          "name": "SLIDER"
        },
        {
          "name": "TEZ_CLIENT"
        },
        {
          "name": "YARN_CLIENT"
        },
        {
          "name": "ZOOKEEPER_CLIENT"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "data01",
      "components": [
        {
          "name": "DATANODE"
        },
        {
          "name": "HIVE_CLIENT"
        },
        {
          "name": "INFRA_SOLR"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NODEMANAGER"
        },
        {
          "name": "ZOOKEEPER_SERVER"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "data02",
      "components": [
        {
          "name": "DATANODE"
        },
        {
          "name": "HDFS_CLIENT"
        },
        {
          "name": "INFRA_SOLR"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "JOURNALNODE"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NODEMANAGER"
        },
        {
          "name": "ZOOKEEPER_SERVER"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "data03",
      "components": [
        {
          "name": "DATANODE"
        },
        {
          "name": "HDFS_CLIENT"
        },
        {
          "name": "JOURNALNODE"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NODEMANAGER"
        },
        {
          "name": "ZOOKEEPER_SERVER"
        }
      ],
      "cardinality": 1
    },
    {
      "name": "data04",
      "components": [
        {
          "name": "DATANODE"
        },
        {
          "name": "HDFS_CLIENT"
        },
        {
          "name": "JOURNALNODE"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NODEMANAGER"
        },
        {
          "name": "METRICS_GRAFANA"
        }
      ],
      "cardinality": 1
    }
  ],
  "Blueprints": {
    "blueprint_name": "mis2",
    "stack_name": "HDP",
    "stack_version": "2.6"
  }
}